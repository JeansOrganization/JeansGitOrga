{"remainingRequest":"D:\\File\\JeansGitOrga\\vue_test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\File\\JeansGitOrga\\vue_test\\src\\components\\MyItem.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\File\\JeansGitOrga\\vue_test\\src\\components\\MyItem.vue","mtime":1713428029778},{"path":"D:\\File\\JeansGitOrga\\vue_test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1708329884222},{"path":"D:\\File\\JeansGitOrga\\vue_test\\node_modules\\babel-loader\\lib\\index.js","mtime":1708329883859},{"path":"D:\\File\\JeansGitOrga\\vue_test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1708329884222},{"path":"D:\\File\\JeansGitOrga\\vue_test\\node_modules\\vue-loader\\lib\\index.js","mtime":1708329898079}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQppbXBvcnQgcHVic3ViIGZyb20gJ3B1YnN1Yi1qcycNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOidNeUl0ZW0nLA0KICAgIHByb3BzOlsndG9kbyddLA0KICAgIG1ldGhvZHM6ew0KICAgICAgICAvL+S/ruaUueeKtuaAgQ0KICAgICAgICBoYW5kbGVDaGFuZ2VUb2RvU3RhdGUodG9kb0lkKXsNCiAgICAgICAgICAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnY2hhbmdlVG9kb1N0YXRlJyx0b2RvSWQpDQogICAgICAgICAgICBwdWJzdWIucHVibGlzaCgnY2hhbmdlVG9kb1N0YXRlJyx0b2RvSWQpDQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZURlbGV0ZVRvZG8odG9kb0lkKXsNCiAgICAgICAgICAgIGlmKGNvbmZpcm0oJ+ehruiupOWIoOmZpOivpemhueWQl++8nycpKXsNCiAgICAgICAgICAgICAgICAvLyB0aGlzLiRidXMuJGVtaXQoJ2RlbGV0ZVRvZG8nLHRvZG9JZCkNCiAgICAgICAgICAgICAgICBwdWJzdWIucHVibGlzaCgnZGVsZXRlVG9kbycsdG9kb0lkKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVFZGl0KGUsdG9kbyl7DQogICAgICAgICAgICAvLyBwdWJzdWIucHVibGlzaCgnbW9kaWZ5VG9kb0lzRWRpdCcsdG9kby5pZCkgLy/orqLpmIXmlrnlvI8NCg0KICAgICAgICAgICAgLy/nm7TmjqXmlLl0b2Rv5bGe5oCnDQogICAgICAgICAgICB0b2RvLmlzRWRpdCA9IHRydWUNCiAgICAgICAgICAgIC8vIHRoaXMuJHJlZnMuaW5wdXRFZGl0LmZvY3VzKCkgLy/lm6DkuLrpobXpnaLmuLLmn5PkvJrlnKjmraTlh73mlbDnu5PmnZ/lkI7lho3ov5vooYzvvIzmiYDku6XmraTlpITojrflj5bnhKbngrnml6DmlYgNCiAgICAgICAgICAgIC8vJG5leHRUaWNr5Lya5Zyo5b2T5YmN5Ye95pWw5Y+Y5pu05pWw5o2u5omn6KGM5a6M6aG16Z2i6YeN5paw5riy5p+T5ZCO6LCD55SoDQogICAgICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIHRoaXMuJHJlZnMuaW5wdXRFZGl0LmZvY3VzKCkNCiAgICAgICAgICAgIH0pDQoNCiAgICAgICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgLy8gICAgIHRoaXMuJHJlZnMuaW5wdXRFZGl0LmZvY3VzKCkNCiAgICAgICAgICAgIC8vIH0sIDIwMCk7DQogICAgICAgICAgICANCg0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVUaXRsZU1vZGlmeShlKXsNCiAgICAgICAgICAgIGlmKGUudGFyZ2V0LnZhbHVlLnRyaW0oKSA9PT0gJycpew0KICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50b2RvLnRpdGxlDQogICAgICAgICAgICB9DQogICAgICAgICAgICBwdWJzdWIucHVibGlzaCgnbW9kaWZ5VG9kb1RpdGxlJyx7dG9kb0lkOnRoaXMudG9kby5pZCx0aXRsZTplLnRhcmdldC52YWx1ZX0pDQogICAgICAgIH0NCiAgICB9LA0KICAgIGRpcmVjdGl2ZXM6ew0KICAgICAgICBmZm9jdXM6ew0KICAgICAgICAgICAgLy/oh6rlrprkuYnmjIfku6TvvIznu5nlrppib29s5YC877yMdHJ1ZeeahOivneS8muWcqOmhtemdouaUvuWFpeaXtue7meS4jueEpueCuQ0KICAgICAgICAgICAgaW5zZXJ0ZWQoZWxlbWVudCxiaW5kKXsNCiAgICAgICAgICAgICAgICBpZihiaW5kLnZhbHVlKXsNCiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5mb2N1cygpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["MyItem.vue"],"names":[],"mappings":";AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MyItem.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <li>\r\n        <label>\r\n            <input type=\"checkbox\" :checked=\"todo.done\" @click=\"handleChangeTodoState(todo.id)\">\r\n            <!-- 如下代码也能实现功能，但是不太推荐，因为有点违反原则，因为修改了props -->\r\n            <!-- <input type=\"checkbox\" v-model=\"todo.done\"> -->\r\n            <input \r\n                v-show=\"todo.isEdit\" \r\n                type=\"text\" \r\n                ref=\"inputEdit\"\r\n                :value=\"todo.title\" \r\n                @blur=\"handleTitleModify\" \r\n                @keyup.enter=\"handleTitleModify\">\r\n            <span v-show=\"!todo.isEdit\" >{{todo.title}}</span>\r\n        </label>\r\n        <button class=\"btn btn-danger\" @click=\"handleDeleteTodo(todo.id)\">删除</button>\r\n        <button v-show=\"!todo.isEdit\" class=\"btn btn-edit\" @click=\"handleEdit($event,todo)\">编辑</button>\r\n    </li>\r\n</template>\r\n\r\n<script>\r\nimport pubsub from 'pubsub-js'\r\nexport default {\r\n    name:'MyItem',\r\n    props:['todo'],\r\n    methods:{\r\n        //修改状态\r\n        handleChangeTodoState(todoId){\r\n            // this.$bus.$emit('changeTodoState',todoId)\r\n            pubsub.publish('changeTodoState',todoId)\r\n        },\r\n        handleDeleteTodo(todoId){\r\n            if(confirm('确认删除该项吗？')){\r\n                // this.$bus.$emit('deleteTodo',todoId)\r\n                pubsub.publish('deleteTodo',todoId)\r\n            }\r\n        },\r\n        handleEdit(e,todo){\r\n            // pubsub.publish('modifyTodoIsEdit',todo.id) //订阅方式\r\n\r\n            //直接改todo属性\r\n            todo.isEdit = true\r\n            // this.$refs.inputEdit.focus() //因为页面渲染会在此函数结束后再进行，所以此处获取焦点无效\r\n            //$nextTick会在当前函数变更数据执行完页面重新渲染后调用\r\n            this.$nextTick(function(){\r\n                this.$refs.inputEdit.focus()\r\n            })\r\n\r\n            // setTimeout(() => {\r\n            //     this.$refs.inputEdit.focus()\r\n            // }, 200);\r\n            \r\n\r\n        },\r\n        handleTitleModify(e){\r\n            if(e.target.value.trim() === ''){\r\n                e.target.value = this.todo.title\r\n            }\r\n            pubsub.publish('modifyTodoTitle',{todoId:this.todo.id,title:e.target.value})\r\n        }\r\n    },\r\n    directives:{\r\n        ffocus:{\r\n            //自定义指令，给定bool值，true的话会在页面放入时给与焦点\r\n            inserted(element,bind){\r\n                if(bind.value){\r\n                    element.focus();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    /*item*/\r\n    li {\r\n        list-style: none;\r\n        height: 36px;\r\n        line-height: 36px;\r\n        padding: 0 5px;\r\n        border-bottom: 1px solid #ddd;\r\n    }\r\n\r\n    li label {\r\n        /* float: left; */\r\n        cursor: pointer;\r\n    }\r\n\r\n    li label li input {\r\n        vertical-align: middle;\r\n        margin-right: 6px;\r\n        position: relative;\r\n        top: -1px;\r\n    }\r\n\r\n    li button {\r\n        float: right;\r\n        display: none;\r\n        margin-top: 3px;\r\n    }\r\n\r\n    li:before {\r\n        content: initial;\r\n    }\r\n\r\n    li:last-child {\r\n        border-bottom: none;\r\n    }\r\n\r\n    li:hover{\r\n        background-color: #ddd;\r\n    }\r\n\r\n    li:hover button{\r\n        display: block;\r\n    }\r\n</style>"]}]}