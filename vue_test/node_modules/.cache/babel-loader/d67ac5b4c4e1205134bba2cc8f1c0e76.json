{"remainingRequest":"E:\\Users\\Jean\\Desktop\\vue_test\\node_modules\\babel-loader\\lib\\index.js!E:\\Users\\Jean\\Desktop\\vue_test\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!E:\\Users\\Jean\\Desktop\\vue_test\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Users\\Jean\\Desktop\\vue_test\\src\\components\\MyItem.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\Users\\Jean\\Desktop\\vue_test\\src\\components\\MyItem.vue","mtime":1706624768456},{"path":"E:\\Users\\Jean\\Desktop\\vue_test\\babel.config.js","mtime":1705942746544},{"path":"E:\\Users\\Jean\\Desktop\\vue_test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1705942737015},{"path":"E:\\Users\\Jean\\Desktop\\vue_test\\node_modules\\babel-loader\\lib\\index.js","mtime":1705942734883},{"path":"E:\\Users\\Jean\\Desktop\\vue_test\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1705942737015},{"path":"E:\\Users\\Jean\\Desktop\\vue_test\\node_modules\\vue-loader\\lib\\index.js","mtime":1705942735182}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHB1YnN1YiBmcm9tICdwdWJzdWItanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ015SXRlbScsCiAgcHJvcHM6IFsndG9kbyddLAogIG1ldGhvZHM6IHsKICAgIC8v5L+u5pS554q25oCBCiAgICBoYW5kbGVDaGFuZ2VUb2RvU3RhdGUodG9kb0lkKSB7CiAgICAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnY2hhbmdlVG9kb1N0YXRlJyx0b2RvSWQpCiAgICAgIHB1YnN1Yi5wdWJsaXNoKCdjaGFuZ2VUb2RvU3RhdGUnLCB0b2RvSWQpOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZVRvZG8odG9kb0lkKSB7CiAgICAgIGlmIChjb25maXJtKCfnoa7orqTliKDpmaTor6XpobnlkJfvvJ8nKSkgewogICAgICAgIC8vIHRoaXMuJGJ1cy4kZW1pdCgnZGVsZXRlVG9kbycsdG9kb0lkKQogICAgICAgIHB1YnN1Yi5wdWJsaXNoKCdkZWxldGVUb2RvJywgdG9kb0lkKTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUVkaXQoZSwgdG9kbykgewogICAgICAvLyBwdWJzdWIucHVibGlzaCgnbW9kaWZ5VG9kb0lzRWRpdCcsdG9kby5pZCkgLy/orqLpmIXmlrnlvI8KCiAgICAgIC8v55u05o6l5pS5dG9kb+WxnuaApwogICAgICB0b2RvLmlzRWRpdCA9IHRydWU7CiAgICAgIC8vIHRoaXMuJHJlZnMuaW5wdXRFZGl0LmZvY3VzKCkgLy/lm6DkuLrpobXpnaLmuLLmn5PkvJrlnKjmraTlh73mlbDnu5PmnZ/lkI7lho3ov5vooYzvvIzmiYDku6XmraTlpITojrflj5bnhKbngrnml6DmlYgKICAgICAgLy8kbmV4dFRpY2vkvJrlnKjlvZPliY3lh73mlbDlj5jmm7TmlbDmja7miafooYzlrozpobXpnaLph43mlrDmuLLmn5PlkI7osIPnlKgKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuJHJlZnMuaW5wdXRFZGl0LmZvY3VzKCk7CiAgICAgIH0pOwoKICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgIC8vICAgICB0aGlzLiRyZWZzLmlucHV0RWRpdC5mb2N1cygpCiAgICAgIC8vIH0sIDIwMCk7CiAgICB9LAogICAgaGFuZGxlVGl0bGVNb2RpZnkoZSkgewogICAgICBpZiAoZS50YXJnZXQudmFsdWUudHJpbSgpID09PSAnJykgewogICAgICAgIGUudGFyZ2V0LnZhbHVlID0gdGhpcy50b2RvLnRpdGxlOwogICAgICB9CiAgICAgIHB1YnN1Yi5wdWJsaXNoKCdtb2RpZnlUb2RvVGl0bGUnLCB7CiAgICAgICAgdG9kb0lkOiB0aGlzLnRvZG8uaWQsCiAgICAgICAgdGl0bGU6IGUudGFyZ2V0LnZhbHVlCiAgICAgIH0pOwogICAgfQogIH0sCiAgZGlyZWN0aXZlczogewogICAgZmZvY3VzOiB7CiAgICAgIC8v6Ieq5a6a5LmJ5oyH5Luk77yM57uZ5a6aYm9vbOWAvO+8jHRydWXnmoTor53kvJrlnKjpobXpnaLmlL7lhaXml7bnu5nkuI7nhKbngrkKICAgICAgaW5zZXJ0ZWQoZWxlbWVudCwgYmluZCkgewogICAgICAgIGlmIChiaW5kLnZhbHVlKSB7CiAgICAgICAgICBlbGVtZW50LmZvY3VzKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["pubsub","name","props","methods","handleChangeTodoState","todoId","publish","handleDeleteTodo","confirm","handleEdit","e","todo","isEdit","$nextTick","$refs","inputEdit","focus","handleTitleModify","target","value","trim","title","id","directives","ffocus","inserted","element","bind"],"sources":["src/components/MyItem.vue"],"sourcesContent":["<template>\r\n    <li>\r\n        <label>\r\n            <input type=\"checkbox\" :checked=\"todo.done\" @click=\"handleChangeTodoState(todo.id)\">\r\n            <!-- 如下代码也能实现功能，但是不太推荐，因为有点违反原则，因为修改了props -->\r\n            <!-- <input type=\"checkbox\" v-model=\"todo.done\"> -->\r\n            <input \r\n                v-show=\"todo.isEdit\" \r\n                type=\"text\" \r\n                ref=\"inputEdit\"\r\n                :value=\"todo.title\" \r\n                @blur=\"handleTitleModify\" \r\n                @keyup.enter=\"handleTitleModify\">\r\n            <span v-show=\"!todo.isEdit\" >{{todo.title}}</span>\r\n        </label>\r\n        <button class=\"btn btn-danger\" @click=\"handleDeleteTodo(todo.id)\">删除</button>\r\n        <button v-show=\"!todo.isEdit\" class=\"btn btn-edit\" @click=\"handleEdit($event,todo)\">编辑</button>\r\n    </li>\r\n</template>\r\n\r\n<script>\r\nimport pubsub from 'pubsub-js'\r\nexport default {\r\n    name:'MyItem',\r\n    props:['todo'],\r\n    methods:{\r\n        //修改状态\r\n        handleChangeTodoState(todoId){\r\n            // this.$bus.$emit('changeTodoState',todoId)\r\n            pubsub.publish('changeTodoState',todoId)\r\n        },\r\n        handleDeleteTodo(todoId){\r\n            if(confirm('确认删除该项吗？')){\r\n                // this.$bus.$emit('deleteTodo',todoId)\r\n                pubsub.publish('deleteTodo',todoId)\r\n            }\r\n        },\r\n        handleEdit(e,todo){\r\n            // pubsub.publish('modifyTodoIsEdit',todo.id) //订阅方式\r\n\r\n            //直接改todo属性\r\n            todo.isEdit = true\r\n            // this.$refs.inputEdit.focus() //因为页面渲染会在此函数结束后再进行，所以此处获取焦点无效\r\n            //$nextTick会在当前函数变更数据执行完页面重新渲染后调用\r\n            this.$nextTick(function(){\r\n                this.$refs.inputEdit.focus()\r\n            })\r\n\r\n            // setTimeout(() => {\r\n            //     this.$refs.inputEdit.focus()\r\n            // }, 200);\r\n            \r\n\r\n        },\r\n        handleTitleModify(e){\r\n            if(e.target.value.trim() === ''){\r\n                e.target.value = this.todo.title\r\n            }\r\n            pubsub.publish('modifyTodoTitle',{todoId:this.todo.id,title:e.target.value})\r\n        }\r\n    },\r\n    directives:{\r\n        ffocus:{\r\n            //自定义指令，给定bool值，true的话会在页面放入时给与焦点\r\n            inserted(element,bind){\r\n                if(bind.value){\r\n                    element.focus();\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    /*item*/\r\n    li {\r\n        list-style: none;\r\n        height: 36px;\r\n        line-height: 36px;\r\n        padding: 0 5px;\r\n        border-bottom: 1px solid #ddd;\r\n    }\r\n\r\n    li label {\r\n        float: left;\r\n        cursor: pointer;\r\n    }\r\n\r\n    li label li input {\r\n        vertical-align: middle;\r\n        margin-right: 6px;\r\n        position: relative;\r\n        top: -1px;\r\n    }\r\n\r\n    li button {\r\n        float: right;\r\n        display: none;\r\n        margin-top: 3px;\r\n    }\r\n\r\n    li:before {\r\n        content: initial;\r\n    }\r\n\r\n    li:last-child {\r\n        border-bottom: none;\r\n    }\r\n\r\n    li:hover{\r\n        background-color: #ddd;\r\n    }\r\n\r\n    li:hover button{\r\n        display: block;\r\n    }\r\n</style>"],"mappings":"AAqBA,OAAAA,MAAA;AACA;EACAC,IAAA;EACAC,KAAA;EACAC,OAAA;IACA;IACAC,sBAAAC,MAAA;MACA;MACAL,MAAA,CAAAM,OAAA,oBAAAD,MAAA;IACA;IACAE,iBAAAF,MAAA;MACA,IAAAG,OAAA;QACA;QACAR,MAAA,CAAAM,OAAA,eAAAD,MAAA;MACA;IACA;IACAI,WAAAC,CAAA,EAAAC,IAAA;MACA;;MAEA;MACAA,IAAA,CAAAC,MAAA;MACA;MACA;MACA,KAAAC,SAAA;QACA,KAAAC,KAAA,CAAAC,SAAA,CAAAC,KAAA;MACA;;MAEA;MACA;MACA;IAGA;IACAC,kBAAAP,CAAA;MACA,IAAAA,CAAA,CAAAQ,MAAA,CAAAC,KAAA,CAAAC,IAAA;QACAV,CAAA,CAAAQ,MAAA,CAAAC,KAAA,QAAAR,IAAA,CAAAU,KAAA;MACA;MACArB,MAAA,CAAAM,OAAA;QAAAD,MAAA,OAAAM,IAAA,CAAAW,EAAA;QAAAD,KAAA,EAAAX,CAAA,CAAAQ,MAAA,CAAAC;MAAA;IACA;EACA;EACAI,UAAA;IACAC,MAAA;MACA;MACAC,SAAAC,OAAA,EAAAC,IAAA;QACA,IAAAA,IAAA,CAAAR,KAAA;UACAO,OAAA,CAAAV,KAAA;QACA;MACA;IACA;EACA;AACA"}]}